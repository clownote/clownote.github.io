<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿå‰è¨€å­¦æ ¡çš„è¯¾ç¨‹è¦æ±‚åšä¸€ä¸ª C# å°é—¹é’Ÿç¨‹åºè®¾è®¡ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š  åšä¸€ä¸ªå°é—¹é’Ÿçª—ä½“åº”ç”¨ç¨‹åºã€‚ å…·å¤‡å®æ—¶æ˜¾ç¤ºæ•°å­—æ—¶é’Ÿçš„åŠŸèƒ½ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è·å–å½“å‰çš„æ—¶é—´ã€‚ å…·å¤‡å®æ—¶ç»˜åˆ¶è¡¨ç›˜æ—¶é’Ÿçš„åŠŸèƒ½ï¼Œæ ¹æ®å½“å‰æ—¶é—´å†æ¥ç»˜åˆ¶ç§’é’ˆã€åˆ†é’ˆå’Œæ—¶é’ˆã€‚ å…·å¤‡æ•´ç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œå½“å¤„äºæ•´ç‚¹æ—¶ï¼Œç³»ç»Ÿè¿›è¡ŒæŠ¥æ—¶ã€‚ å…·å¤‡å®šç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œæ ¹æ®ä½¿ç”¨è€…çš„è®¾å®šï¼Œè¿›è¡ŒæŠ¥æ—¶ã€‚ æŠŠä½¿ç”¨è€…è®¾ç½®çš„æŠ¥æ—¶æ—¶é—´ï¼Œè®°å½•åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œç³»ç»Ÿåœ¨å¯">
<meta property="og:type" content="article">
<meta property="og:title" content="åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ">
<meta property="og:url" content="https://clownote.github.io/2019/12/10/blog/CSharpAlarm/index.html">
<meta property="og:site_name" content="clownote">
<meta property="og:description" content="åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿå‰è¨€å­¦æ ¡çš„è¯¾ç¨‹è¦æ±‚åšä¸€ä¸ª C# å°é—¹é’Ÿç¨‹åºè®¾è®¡ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š  åšä¸€ä¸ªå°é—¹é’Ÿçª—ä½“åº”ç”¨ç¨‹åºã€‚ å…·å¤‡å®æ—¶æ˜¾ç¤ºæ•°å­—æ—¶é’Ÿçš„åŠŸèƒ½ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è·å–å½“å‰çš„æ—¶é—´ã€‚ å…·å¤‡å®æ—¶ç»˜åˆ¶è¡¨ç›˜æ—¶é’Ÿçš„åŠŸèƒ½ï¼Œæ ¹æ®å½“å‰æ—¶é—´å†æ¥ç»˜åˆ¶ç§’é’ˆã€åˆ†é’ˆå’Œæ—¶é’ˆã€‚ å…·å¤‡æ•´ç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œå½“å¤„äºæ•´ç‚¹æ—¶ï¼Œç³»ç»Ÿè¿›è¡ŒæŠ¥æ—¶ã€‚ å…·å¤‡å®šç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œæ ¹æ®ä½¿ç”¨è€…çš„è®¾å®šï¼Œè¿›è¡ŒæŠ¥æ—¶ã€‚ æŠŠä½¿ç”¨è€…è®¾ç½®çš„æŠ¥æ—¶æ—¶é—´ï¼Œè®°å½•åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œç³»ç»Ÿåœ¨å¯">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9qnn9cnd8j31d50u0qft.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9qes7ga8nj30ea0ehmxj.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9qtdimzaxj31f20u0wop.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9vdl50y0qj312o0u0gqs.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9qey1safbj305b05bmx7.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9vdfrwji1j30m40d8dg5.jpg">
<meta property="article:published_time" content="2019-12-10T12:59:21.000Z">
<meta property="article:modified_time" content="2021-02-27T13:08:04.459Z">
<meta property="article:author" content="CDFMLR">
<meta property="article:tag" content="School">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tva1.sinaimg.cn/large/006tNbRwly1g9qnn9cnd8j31d50u0qft.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/rabbit.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/rabbit_192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/rabbit_180.png">
          
        
    
    <!-- title -->
    <title>åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
    <!--Google search varification (PRIVATE)-->
    <meta name="google-site-verification" content="MrqlpFAD8nDanw3Ypv7ZsIWHLnTdhRuLa4QhSVwxIvc" />
    <!--Google AdSense å…³è” (PRIVATE)-->
    <script data-ad-client="ca-pub-1510963483941114" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 5.3.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/cdfmlr">é¡¹ç›®</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2019/12/17/AndrewNgML/AndrewNg-MachineLearning-17-LargeScaleMachineLearning/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2019/12/05/AndrewNgML/AndrewNg-MachineLearning-16-RecommenderSystems/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&text=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&is_video=false&description=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ&body=Check out this article: https://clownote.github.io/2019/12/10/blog/CSharpAlarm/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&name=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-C-%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%B0%8F%E9%97%B9%E9%92%9F"><span class="toc-number">1.</span> <span class="toc-text">åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.2.</span> <span class="toc-text">è®¾è®¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.</span> <span class="toc-text">å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%86%E7%9B%98%E6%97%B6%E9%92%9F%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">åœ†ç›˜æ—¶é’Ÿçš„å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9B%98"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">è¡¨ç›˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">æŒ‡é’ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">é—¹é’ŸåŠŸèƒ½å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9D%97"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">é—¹é’Ÿã€æ•°æ®åº“æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E7%9B%B8%E5%85%B3%E7%9A%84%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">é—¹é’Ÿç›¸å…³çš„é¡µé¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E6%9D%A1%E7%9B%AE%E7%9A%84CRUD"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">é—¹é’Ÿæ¡ç›®çš„CRUD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E6%8F%90%E9%86%92"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">é—¹é’Ÿæé†’</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.</span> <span class="toc-text">å¦ä¸€ç§å®ç°</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">clownote</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2019-12-10T12:59:21.000Z" itemprop="datePublished">2019-12-10</time>
        
        (Updated: <time datetime="2021-02-27T13:08:04.459Z" itemprop="dateModified">2021-02-27</time>)
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/School/" rel="tag">School</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="åˆ©ç”¨-C-è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><a href="#åˆ©ç”¨-C-è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ" class="headerlink" title="åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"></a>åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å­¦æ ¡çš„è¯¾ç¨‹è¦æ±‚åšä¸€ä¸ª C# å°é—¹é’Ÿç¨‹åºè®¾è®¡ï¼Œå…·ä½“è¦æ±‚å¦‚ä¸‹ï¼š</p>
<ol>
<li>åšä¸€ä¸ªå°é—¹é’Ÿçª—ä½“åº”ç”¨ç¨‹åºã€‚</li>
<li>å…·å¤‡å®æ—¶æ˜¾ç¤ºæ•°å­—æ—¶é’Ÿçš„åŠŸèƒ½ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è·å–å½“å‰çš„æ—¶é—´ã€‚</li>
<li>å…·å¤‡å®æ—¶ç»˜åˆ¶è¡¨ç›˜æ—¶é’Ÿçš„åŠŸèƒ½ï¼Œæ ¹æ®å½“å‰æ—¶é—´å†æ¥ç»˜åˆ¶ç§’é’ˆã€åˆ†é’ˆå’Œæ—¶é’ˆã€‚</li>
<li>å…·å¤‡æ•´ç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œå½“å¤„äºæ•´ç‚¹æ—¶ï¼Œç³»ç»Ÿè¿›è¡ŒæŠ¥æ—¶ã€‚</li>
<li>å…·å¤‡å®šç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œæ ¹æ®ä½¿ç”¨è€…çš„è®¾å®šï¼Œè¿›è¡ŒæŠ¥æ—¶ã€‚</li>
<li>æŠŠä½¿ç”¨è€…è®¾ç½®çš„æŠ¥æ—¶æ—¶é—´ï¼Œè®°å½•åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œç³»ç»Ÿåœ¨å¯åŠ¨æ—¶ï¼Œè‡ªåŠ¨åŠ è½½è¯¥æ–‡æœ¬æ–‡ä»¶ä»¥ä¾¿è·å–å®šç‚¹æŠ¥æ—¶çš„æ—¶é—´ã€‚</li>
<li>ç³»ç»Ÿæœ€å°åŒ–æ—¶ï¼Œç¼©å°ä¸ºç³»ç»Ÿæ‰˜ç›˜ã€‚</li>
</ol>
<p>è¿™ä¸ªä¸œè¥¿ä¸éš¾ï¼Œå°±æ˜¯æœ€ç®€å•çš„ App å¼€å‘å˜›ï¼Œä½†è¦æ±‚ç”¨ C# åš Windows çª—ä½“å°±å¾ˆçƒ¦ã€‚ç”±äºæˆ‘ä¸ä½¿ç”¨ Windows ç³»ç»Ÿï¼Œæ‰€ä»¥æ‹¿åˆ°é¢˜ç›®ï¼Œé¦–å…ˆçš„æƒ³æ³•å°±æ˜¯<strong>è·¨å¹³å°</strong>ï¼Œæˆ‘å¸Œæœ›åœ¨ Mac ä¸Šå®Œæˆå¼€å‘ï¼Œç„¶åç›´æ¥æ‰“åŒ…å‘å¸ƒåˆ° Windows å¹³å°ã€‚</p>
<p>ä»¥å‰çœ‹è¿‡å¥½å‡ ä¸ªè·¨å¹³å°çš„å¼€æºçš„ UI å®ç°é¡¹ç›®éƒ½æ˜¯ C# å†™çš„ï¼Œæ¯”å¦‚ Pathos: Nethack Codex ç”¨çš„ Inventionã€‚ä½†å› ä¸ºæˆ‘ä¹‹å‰ç”šè‡³ä»æ²¡ç”¨è¿‡ C#ï¼Œæ‰€ä»¥å¯¹äºå®ƒä»¬å…·ä½“çš„å®ç°ä¸æ˜¯å¾ˆäº†è§£ã€‚ç»è¿‡ä¸€é˜µ Googleï¼Œæˆ‘æ‰¾åˆ°äº† Microsoft è‡ªå®¶åšçš„è·¨å¹³å°æ–¹æ¡ˆâ€”â€”Xamarinã€‚</p>
<p>emmmmï¼ŒXamarin è¿˜åˆ†å¥½å‡ ä¸ªéƒ¨åˆ†ï¼ŒXamarin.Formsï¼ŒXamarin.Mac ä»€ä¹ˆçš„ã€‚å…¶ä¸­ï¼ŒXamarin.Forms å¯ä»¥ä¸€å¥— UI ä»£ç ç”Ÿæˆ Androidã€iOSã€UWP(æ”¯æŒä¸å®Œæ•´ï¼Œè¿˜æ˜¯é¢„è§ˆç‰ˆ)ã€‚è¿™ä¸ªæ¡†æ¶ä¸‹ Androidã€iOS å¯ä»¥åœ¨ Mac ä¸Šç”¨ Visual Studio for Mac æ¥å¼€å‘å¹¶ä¸”ç”Ÿæˆï¼ŒUWP åªèƒ½åœ¨ Windows ä¸‹ç”Ÿæˆã€‚</p>
<p>è¿™ä¸ªä¸œè¥¿æ„Ÿè§‰è¿˜ä¸é”™ï¼Œçœ‹æ–‡æ¡£é‡Œç”Ÿæˆå‡ºæ¥çš„ UI æ•ˆæœæŒºå¥½çœ‹çš„ï¼Œä»£ç ä¹Ÿæ¯”è¾ƒç®€å•ï¼ˆç›¸è¾ƒäºåŸç”Ÿ Android å¼€å‘ï¼‰ï¼Œæ‰€ä»¥æˆ‘å†³å®šç”¨è¿™ä¸ª Xamarin.Forms å…ˆåœ¨ Mac ä¸‹å®Œæˆè¿™ä¸ªå°é—¹é’Ÿçš„å¼€å‘ï¼Œç„¶åå€Ÿä¸€å° Windows ç”µè„‘æ¥ç”Ÿæˆ UWPã€‚</p>
<p>å†³å®šäº†æ¡†æ¶ï¼Œç„¶åå°±æ˜¯ C# åŸºç¡€è¯­æ³•å’Œ Xamarin.Forms çš„å­¦ä¹ äº†ã€‚è¿™ä¸¤ä¸ªä¸œè¥¿å¾®è½¯éƒ½æœ‰è¯¦ç»†çš„ã€é’ˆå¯¹å„ç§ä¸åŒæŠ€æœ¯æ°´å¹³çš„å¼€å‘è€…çš„å…¥é—¨æ•™ç¨‹ï¼Œé¡ºç€çœ‹ä¸€éï¼ŒæŠŠä¾‹å­å†™ä¸€ä¸‹ä¹Ÿå°±è¶³å¤Ÿå®Œæˆè¿™æ¬¡çš„å°é—¹é’Ÿä»»åŠ¡äº†ã€‚</p>
<p>æ¥ä¸‹æ¥å°±è¿›å…¥è·¨å¹³å°å°é—¹é’Ÿå¼€å‘çš„è¿‡ç¨‹äº†ã€‚</p>
<h2 id="è®¾è®¡"><a href="#è®¾è®¡" class="headerlink" title="è®¾è®¡"></a>è®¾è®¡</h2><p>æˆ‘ä»¬é¦–å…ˆæ€è€ƒæˆ‘ä»¬æœŸæœ›çš„ App ä½¿ç”¨åœºæ™¯ï¼šç”¨æˆ·ç‚¹å‡»æ‰“å¼€ Appï¼Œå±å¹•ä¸Šæ˜¾ç¤ºå‡ºä¸€ä¸ªåœ†ç›˜æ—¶é’Ÿï¼Œç„¶åï¼Œå¯ä»¥ä»å¯¼èˆªæ¡ï¼ˆiOS çš„ä¹ æƒ¯æ˜¯åº•éƒ¨ï¼ŒAndroid å’Œ UWP ä¸ºé¡¶éƒ¨ï¼‰åˆ‡æ¢åˆ°ä¸€ä¸ªç°å®è¿™é—¹é’Ÿæ¡ç›®åˆ°ç•Œé¢ï¼Œç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œç‚¹å¼€ä¸€æ¡é—¹é’Ÿæ¡ç›®è¿›è¡Œç¼–è¾‘ï¼Œæˆ–ç€æ·»åŠ æ–°çš„é—¹é’Ÿæ¡ç›®ã€‚</p>
<p>iOS è‡ªå¸¦çš„ â€œæ—¶é’Ÿâ€ App ç»™äº†æˆ‘ä»¬å¾ˆå¥½çš„å‚è€ƒï¼ˆç”±äºå®ƒæ²¡æœ‰åœ†ç›˜æ—¶é’ŸåŠŸèƒ½ï¼Œæˆ‘æˆªäº†ä¸€å¼ â€œå°±å¯â€ç•Œé¢æ›¿ä»£ğŸ˜“ï¼‰ï¼š</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qnn9cnd8j31d50u0qft.jpg" alt="IMG_1573"></p>
<p>åœ¨æˆ‘ä»¬çš„è®¾è®¡ä¸­ï¼Œå°é—¹é’Ÿ App å¯ä»¥åˆ†ä¸ºè¿™æ ·å‡ ä¸ªé¡µé¢ï¼š</p>
<ul>
<li>ğŸ•¤æ—¶é’Ÿé¡µï¼šæ˜¾ç¤ºä¸€ä¸ªåœ†ç›˜æ—¶é’Ÿï¼Œå±•ç¤ºå½“å‰æ—¶é—´ï¼›</li>
<li>â°é—¹é’Ÿé¡µï¼šæ˜¾ç¤ºå½“å‰è®¾å®šçš„æ‰€æœ‰é—¹é’Ÿæ¡ç›®ï¼Œå¯ä»¥ç‚¹å¼€ç¼–è¾‘ã€æ–°å»ºé—¹é’Ÿæ¡ç›®ï¼›</li>
<li>ğŸ§¾è¯¦æƒ…é¡µï¼šæ–°å»ºã€ç¼–è¾‘ä¸€æ¡é—¹é’Ÿçš„æ—¶é—´ã€æ³¨é‡Šçš„é¡µé¢ï¼Œå¹¶æœ‰ä¿å­˜ã€åˆ é™¤çš„åŠŸèƒ½ã€‚</li>
</ul>
<p>å…·ä½“åˆ° Xamarin.Forms ä¸­ï¼Œè¿™äº› Pages å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qes7ga8nj30ea0ehmxj.jpg" alt="MyClockPagesDiagram"></p>
<p>ç„¶åï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¾è®¡å¦å¤–ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼Œä¸€æ¡â€œé—¹é’Ÿâ€çš„è¡¨ç¤ºå’Œå‚¨å­˜ã€‚</p>
<p>å¯ä»¥è€ƒè™‘ç”¨ä¸€ä¸ª <code>AlarmItem</code> ç±»æ¥ä»£è¡¨ä¸€æ¡é—¹é’Ÿï¼Œè¿™ä¸ªç±»è¦å…·æœ‰ å”¯ä¸€IDã€æ—¶é—´ã€æ˜¯å¦æ‰“å¼€ã€æ³¨é‡Š è¿™å‡ ä¸ªå±æ€§ã€‚</p>
<p>åœ¨ Xamarin ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¼•å…¥ SQLite å‚¨å­˜è¿™ä¸ªå¯¹è±¡ï¼Œåªéœ€è¦å†™ä¸€ä¸ª <code>Database</code> ç±»ï¼Œç®€å•å°è£…ä¸€ä¸‹ CRUDï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚</p>
<p>æ¥ä¸‹æ¥å°±è¦å¼€å§‹ä»£ç å®ç°äº†ï¼Œå…ˆè´´å‡ºæœ€åæˆå“æˆªå›¾ï¼ŒiOSä¸Šçš„æ•ˆæœï¼š</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qtdimzaxj31f20u0wop.jpg" alt="IMG_1576"></p>
<p>UWP çš„æ•ˆæœï¼š</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9vdl50y0qj312o0u0gqs.jpg" alt="IMG_1600"></p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><p>æ•´ä¸ª App çš„åŸºç¡€å¤§æ¦‚æœ‰äº†ï¼Œç°åœ¨è€ƒè™‘ä¸€äº›å®ç°çš„ç»†èŠ‚ã€‚</p>
<p>ï¼ˆåœ¨è¿™é‡Œæˆ‘åªåˆ—å‡ºå…³é”®çš„æˆ–è€…ä»»ä½•æˆ‘è®¤ä¸ºæœ‰æ„æ€çš„ä»£ç ç‰‡æ®µï¼Œå®Œæ•´ä»£ç è§ <a target="_blank" rel="noopener" href="https://github.com/cdfmlr/MyClock">GitHub</a>ï¼‰</p>
<h3 id="åœ†ç›˜æ—¶é’Ÿçš„å®ç°"><a href="#åœ†ç›˜æ—¶é’Ÿçš„å®ç°" class="headerlink" title="åœ†ç›˜æ—¶é’Ÿçš„å®ç°"></a>åœ†ç›˜æ—¶é’Ÿçš„å®ç°</h3><p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9qey1safbj305b05bmx7.jpg" alt="å±å¹•å¿«ç…§ 2019-12-09 13.36.51"></p>
<p>ç»˜åˆ¶ä¸€ä¸ªå¦‚ä¸Šå›¾æ‰€ç¤ºçš„åœ†ç›˜æ—¶é’Ÿï¼Œéœ€è¦å®æ—¶çš„çŸ¢é‡å›¾ç»˜åˆ¶ã€‚Xamarin.Forms ä¸å…·æœ‰å†…ç½®çš„çŸ¢é‡å›¾å½¢ç³»ç»Ÿï¼Œä½†æœ‰ä¸€ä¸ª BoxView å¯å¸®åŠ©è¿›è¡Œè¡¥å¿ã€‚<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/dotnet/api/xamarin.forms.boxview">BoxView</a>  å‘ˆç°æŒ‡å®šçš„å®½åº¦ã€ é«˜åº¦å’Œé¢œè‰²çš„ä¸€ä¸ªç®€å•çš„çŸ©å½¢ã€‚å‚ç…§å¾®è½¯çš„æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ä¸‹é¢çš„æ€è·¯å®ç°ä¸€ä¸ªæ—¶é’Ÿï¼š</p>
<h4 id="è¡¨ç›˜"><a href="#è¡¨ç›˜" class="headerlink" title="è¡¨ç›˜"></a>è¡¨ç›˜</h4><p>å¯¹äºè¡¨ç›˜ï¼Œé€šè¿‡ç®€å•çš„æ•°å­¦è®¡ç®—ï¼Œå°±å¯ä»¥å¾—åˆ°ä»12ç‚¹å¼€å§‹çš„è¡¨ç›˜ä¸Š 60 ä¸ªå‡åŒ€åˆ†å¸ƒçš„åˆ»åº¦ç‚¹çš„ä½ç½®åæ ‡ã€‚åœ¨ä¸€ä¸ªå¯ä»¥æŒ‡å®šä½ç½®çš„ AbsoluteLayout ä¸­ã€‚</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create the tick marks</span></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">int</span> i = <span class="number">0</span>; i &lt; tickMarks.Length; i++)</span><br><span class="line">&#123;</span><br><span class="line">	tickMarks[i] = <span class="keyword">new</span> BoxView &#123; Color = Color.Black &#125;;</span><br><span class="line">	absoluteLayout.Children.Add(tickMarks[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æˆ‘ä»¬ç”Ÿæˆäº† 60 ä¸ªå¤§å°ç›¸åŒçš„æ­£æ–¹å½¢ BoxViewï¼Œç°å°†æ¨¡5çš„ç‚¹ç¨å¾®åŠ å¤§ï¼Œç„¶åæŠŠå®ƒä»¬æ”¾ç½®åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œé’ˆå¯¹ä¸åŒä½ç½®çš„æ­£æ–¹å½¢åšä¸€ä¸ªä½¿å…¶æ­£å¯¹ä¸­å¿ƒçš„æ—‹è½¬ï¼Œè¡¨ç›˜å°±å®Œæˆäº†ã€‚</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Size and position a tickMark</span></span><br><span class="line"><span class="built_in">double</span> size = radius / (index % <span class="number">5</span> == <span class="number">0</span> ? <span class="number">15</span> : <span class="number">30</span>);</span><br><span class="line"><span class="built_in">double</span> radians = index * <span class="number">2</span> * Math.PI / tickMarks.Length;</span><br><span class="line"><span class="built_in">double</span> x = center.X + radius * Math.Sin(radians) - size / <span class="number">2</span>;</span><br><span class="line"><span class="built_in">double</span> y = center.Y - radius * Math.Cos(radians) - size / <span class="number">2</span>;</span><br><span class="line">AbsoluteLayout.SetLayoutBounds(tickMarks[index], <span class="keyword">new</span> Rectangle(x, y, size, size));</span><br><span class="line">tickMarks[index].Rotation = <span class="number">180</span> * radians / Math.PI;</span><br></pre></td></tr></table></figure>
<h4 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h4><p>æ¥ä¸‹æ¥æ˜¯æŒ‡é’ˆï¼Œå…ˆåœ¨ä¹‹å‰çš„ AbsoluteLayout ä¸­å®ä¾‹åŒ–ä¸‰ä¸ªä»£è¡¨æ—¶åˆ†ç§’é’ˆçš„ BoxViewï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">AbsoluteLayout</span> <span class="attr">x:Name</span>=<span class="string">&quot;absoluteLayout&quot;</span> <span class="attr">SizeChanged</span>=<span class="string">&quot;OnAbsoluteLayoutSizeChanged&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">BoxView</span> <span class="attr">x:Name</span>=<span class="string">&quot;hourHand&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;Black&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">BoxView</span> <span class="attr">x:Name</span>=<span class="string">&quot;minuteHand&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;Black&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">BoxView</span> <span class="attr">x:Name</span>=<span class="string">&quot;secondHand&quot;</span> <span class="attr">Color</span>=<span class="string">&quot;Black&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">AbsoluteLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å†™ä¸€ä¸ª <code>HandParams</code> æ¥æŒ‡å®šä¸‰ä¸ªæ—¶é’ˆçš„å½¢çŠ¶ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> HandParams</span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HandParams</span>(<span class="params"><span class="built_in">double</span> width, <span class="built_in">double</span> height, <span class="built_in">double</span> offset</span>) : <span class="title">this</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>    &#123;</span><br><span class="line">        Width = width;</span><br><span class="line">        Height = height;</span><br><span class="line">        Offset = offset;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Width &#123; <span class="keyword">private</span> <span class="keyword">set</span>; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Height &#123; <span class="keyword">private</span> <span class="keyword">set</span>; <span class="keyword">get</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">double</span> Offset &#123; <span class="keyword">private</span> <span class="keyword">set</span>; <span class="keyword">get</span>; &#125;	<span class="comment">// æ—‹è½¬ä¸­å¿ƒ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">readonly</span> HandParams secondParams = <span class="keyword">new</span> HandParams(<span class="number">0.02</span>, <span class="number">1.1</span>, <span class="number">0.85</span>);</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">readonly</span> HandParams minuteParams = <span class="keyword">new</span> HandParams(<span class="number">0.05</span>, <span class="number">0.8</span>, <span class="number">0.9</span>);</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">readonly</span> HandParams hourParams = <span class="keyword">new</span> HandParams(<span class="number">0.125</span>, <span class="number">0.65</span>, <span class="number">0.9</span>);</span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œå†™ä¸€ä¸ª <code>LayoutHand</code> æ¥æŠŠæŒ‡é’ˆæ”¾åˆ°åˆé€‚çš„åœ°æ–¹ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LayoutHand</span>(<span class="params">BoxView boxView, HandParams handParams, Point center, <span class="built_in">double</span> radius</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">double</span> width = handParams.Width * radius;</span><br><span class="line">    <span class="built_in">double</span> height = handParams.Height * radius;</span><br><span class="line">    <span class="built_in">double</span> offset = handParams.Offset;</span><br><span class="line"></span><br><span class="line">    AbsoluteLayout.SetLayoutBounds(boxView,</span><br><span class="line">                                   <span class="keyword">new</span> Rectangle(center.X - <span class="number">0.5</span> * width,</span><br><span class="line">                                                 center.Y - offset * height,</span><br><span class="line">                                                 width, height));</span><br><span class="line">    boxView.AnchorY = handParams.Offset;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LayoutHand(secondHand, secondParams, center, radius);</span><br><span class="line">LayoutHand(minuteHand, minuteParams, center, radius);</span><br><span class="line">LayoutHand(hourHand, hourParams, center, radius);</span><br></pre></td></tr></table></figure>
<p>åœ¨æ—¶é—´æµåŠ¨æ—¶ï¼Œæ—‹è½¬æŒ‡é’ˆï¼Œä¸ºäº†è¥é€ ä¸€ç§çœŸå®çš„æ„Ÿè§‰ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåŠ¨ç”»æ•ˆæœè®©ç§’é’Ÿçš„ç§»åŠ¨æœ‰çœŸå®çš„æ‘†åŠ¨æ„Ÿï¼Œä½†è¿™ä¸ªåŠ¨ç”»éœ€è¦æˆ‘ä»¬ Timer Tick çš„é¢‘ç‡é«˜ä¸€ç‚¹ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ClockPage</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    InitializeComponent();</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    Device.StartTimer(TimeSpan.FromSeconds(<span class="number">1.0</span> / <span class="number">60</span>), OnTimerTick);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">bool</span> <span class="title">OnTimerTick</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DateTime dateTime = DateTime.Now;</span><br><span class="line">    hourHand.Rotation = <span class="number">30</span> * (dateTime.Hour % <span class="number">12</span>) + <span class="number">0.5</span> * dateTime.Minute;</span><br><span class="line">    minuteHand.Rotation = <span class="number">6</span> * dateTime.Minute + <span class="number">0.1</span> * dateTime.Second;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">double</span> t = dateTime.Millisecond / <span class="number">1000.0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (t &lt; <span class="number">0.5</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        t = <span class="number">0.5</span> * Easing.SpringIn.Ease(t / <span class="number">0.5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        t = <span class="number">0.5</span> * (<span class="number">1</span> + Easing.SpringOut.Ease((t - <span class="number">0.5</span>) / <span class="number">0.5</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    secondHand.Rotation = <span class="number">6</span> * (dateTime.Second + t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œä¸€ä¸ªåœ†ç›˜æ—¶é’Ÿå°±å®Œæˆäº†ã€‚</p>
<h3 id="é—¹é’ŸåŠŸèƒ½å®ç°"><a href="#é—¹é’ŸåŠŸèƒ½å®ç°" class="headerlink" title="é—¹é’ŸåŠŸèƒ½å®ç°"></a>é—¹é’ŸåŠŸèƒ½å®ç°</h3><h4 id="é—¹é’Ÿã€æ•°æ®åº“æ¨¡å—"><a href="#é—¹é’Ÿã€æ•°æ®åº“æ¨¡å—" class="headerlink" title="é—¹é’Ÿã€æ•°æ®åº“æ¨¡å—"></a>é—¹é’Ÿã€æ•°æ®åº“æ¨¡å—</h4><p>æˆ‘ä»¬å°†ä½¿ç”¨ <code>SQLite.NET</code> å°†æ•°æ®åº“æ“ä½œåˆå¹¶åˆ°åº”ç”¨ç¨‹åºã€‚</p>
<p>é¦–å…ˆè¦åšçš„æ˜¯ä½¿ç”¨ Visual Studio ä¸­çš„ NuGet åŒ…ç®¡ç†å™¨å°† NuGet åŒ…æ·»åŠ åˆ°é¡¹ç›®ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦æ·»åŠ çš„åŒ…å«åš <code>sqlite-net-pcl</code> ï¼ˆè¯¦ç»†æ“ä½œå‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/xamarin/get-started/quickstarts/database">å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° SQLite.NET æ•°æ®åº“ä¸­</a>ï¼‰ï¼Œæ·»åŠ å®Œæˆåæˆ‘ä»¬å°±å¯ä»¥å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ° SQLite.NET æ•°æ®åº“ä¸­äº†ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å®ç°è®¾è®¡ä¸­æåˆ°çš„ <code>AlamItem</code> ç±»æ¥è¡¨ç¤ºä¸€æ¡é—¹é’Ÿï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> SQLite;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyClock</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AlarmItem</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">PrimaryKey, AutoIncrement</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> ID &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> TimeSpan Time &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">bool</span> Work &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Note &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="built_in">string</span> <span class="title">ToString</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">return</span> Time.ToString();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨äº† <code>PrimaryKey</code> å’Œ <code>AutoIncrement</code> ç‰¹æ€§æ ‡è®° <code>ID</code> å±æ€§ï¼Œä»¥ç¡®ä¿ SQLite.NET æ•°æ®åº“ä¸­çš„æ¯ä¸ª <code>AlarmItem</code> å®ä¾‹éƒ½å…·æœ‰ SQLite.NET æä¾›çš„å”¯ä¸€ idã€‚</p>
<p>ç„¶åï¼Œåˆ›å»ºä¸€ä¸ª <code>Database</code> ç±»ï¼ŒåŒ…å«ç”¨äºåˆ›å»ºæ•°æ®åº“ã€ä»ä¸­è¯»å–æ•°æ®ã€å‘å…¶ä¸­å†™å…¥æ•°æ®ä»¥åŠä»ä¸­åˆ é™¤æ•°æ®çš„ä»£ç ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> SQLite;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyClock</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Database</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">readonly</span> SQLiteAsyncConnection _database;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Database</span>(<span class="params"><span class="built_in">string</span> dbPath</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            _database = <span class="keyword">new</span> SQLiteAsyncConnection(dbPath);</span><br><span class="line">            _database.CreateTableAsync&lt;AlarmItem&gt;().Wait();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> Task&lt;List&lt;AlarmItem&gt;&gt; GetAllAlarmItemsAsync()</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> _database.Table&lt;AlarmItem&gt;().ToListAsync();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Task&lt;<span class="built_in">int</span>&gt; <span class="title">SaveAlarmItemAsync</span>(<span class="params">AlarmItem alarmItem</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">if</span> (alarmItem.ID != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> _database.UpdateAsync(alarmItem);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> _database.InsertAsync(alarmItem);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Task&lt;<span class="built_in">int</span>&gt; <span class="title">DeleteAlarmItemAsync</span>(<span class="params">AlarmItem alarmItem</span>)</span></span><br><span class="line"><span class="function"></span>        &#123;</span><br><span class="line">            <span class="keyword">return</span> _database.DeleteAsync(alarmItem);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä½¿ç”¨çš„å…¨æ˜¯å°†æ•°æ®åº“æ“ä½œç§»åŠ¨åˆ°åå°çº¿ç¨‹çš„å¼‚æ­¥ SQLite.NET APIã€‚ æ­¤å¤–ï¼Œ<code>Database</code>æ„é€ å‡½æ•°å°†æ•°æ®åº“æ–‡ä»¶çš„è·¯å¾„ä½œä¸ºå‚æ•°ã€‚</p>
<h4 id="é—¹é’Ÿç›¸å…³çš„é¡µé¢"><a href="#é—¹é’Ÿç›¸å…³çš„é¡µé¢" class="headerlink" title="é—¹é’Ÿç›¸å…³çš„é¡µé¢"></a>é—¹é’Ÿç›¸å…³çš„é¡µé¢</h4><p>æ¥ä¸‹æ¥æˆ‘ä»¬è€ƒè™‘å…ˆæŠŠå’Œé—¹é’Ÿçš„CRUDç›¸å…³çš„ <code>AlarmPage</code> å’Œ <code>AlarmEditPage</code> é¡µé¢å®ç°ã€‚</p>
<p>é¦–å…ˆæ˜¯ <code>AlarmPage</code>ï¼Œè¿™ä¸ªç•Œé¢å°†ç½—åˆ—æ‰€æœ‰çš„å·²æœ‰é—¹é’Ÿæ¡ç›®ï¼Œå¹¶ä¸”å¯ä»¥æ·»åŠ æ–°çš„æ¡ç›®ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xamarin.com/schemas/2014/forms&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">xmlns:x</span>=<span class="string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">x:Class</span>=<span class="string">&quot;MyClock.AlarmPage&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">Title</span>=<span class="string">&quot;é—¹é’Ÿ&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ContentPage.ToolbarItems</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ToolbarItem</span> <span class="attr">Text</span>=<span class="string">&quot;+&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">IconImageSource</span>=<span class="string">&quot;add.png&quot;</span></span></span><br><span class="line"><span class="tag">                     <span class="attr">Clicked</span>=<span class="string">&quot;OnAlarmItemAddClicked&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ContentPage.ToolbarItems</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Margin</span>=<span class="string">&quot;20&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ListView</span> <span class="attr">x:Name</span>=<span class="string">&quot;alarmListView&quot;</span></span></span><br><span class="line"><span class="tag">              <span class="attr">ItemSelected</span>=<span class="string">&quot;OnAlarmItemSelected&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ListView.ItemTemplate</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">DataTemplate</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">TextCell</span> <span class="attr">Text</span>=<span class="string">&quot;&#123;Binding TimeString&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                          <span class="attr">Detail</span>=<span class="string">&quot;&#123;Binding Note&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">DataTemplate</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ListView.ItemTemplate</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ListView</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span>=<span class="string">&quot;æ·»åŠ &quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">Clicked</span>=<span class="string">&quot;OnAlarmItemAddClicked&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘åœ¨æ ‡é¢˜æ é‡Œå†™äº†ä¸€ä¸ªæ·»åŠ æ–°æ¡ç›®çš„ â€œ<code>+</code>â€ æŒ‰é’®ï¼Œä½†ç”±äºè°ƒè¯•ä¸­å‘ç°ï¼Œå®ƒè™½ç„¶åœ¨ Androidã€iOS ä¸­éƒ½èƒ½å¾ˆå¥½çš„å‘ˆç°ï¼Œä½†åœ¨ UWP é‡Œä¸å¯è§ï¼ˆè™½ç„¶æŠŠé¼ æ ‡ç§»åˆ°é‚£é‡Œç¨å¾®ç§»åŠ¨å±å¹•åå¯ä»¥çœ‹åˆ°ä¹Ÿå¯ä»¥ç‚¹å‡»åˆ°å®ƒï¼‰ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®ï¼Œæ‰€ä»¥å°±åœ¨ ListView ä¸‹é¢åŠ äº†ä¸€ä¸ªå¾ˆæ˜¾çœ¼ã€ä¹Ÿå‡ ä¹ä¸å¯èƒ½å‡ºæ„å¤–çš„ â€œ<code>æ·»åŠ </code>â€ Buttonã€‚</p>
<p>å½“ç”¨æˆ·ç‚¹å‡» ListView é‡Œçš„é—¹é’Ÿæ¡ç›® æˆ–è€… æ·»åŠ æ–°æ¡ç›® æ—¶ï¼Œå°†è½¬åˆ° <code>AlarmEditPage</code> å®Œæˆé—¹é’Ÿæ¡ç›®çš„æŸ¥çœ‹ã€ç¼–è¾‘ã€ä¿å­˜æˆ–åˆ é™¤ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">async</span> <span class="keyword">void</span> <span class="title">OnAlarmItemAddClicked</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">await</span> Navigation.PushAsync(<span class="keyword">new</span> AlarmEditPage</span><br><span class="line">	&#123;</span><br><span class="line">		BindingContext = <span class="keyword">new</span> AlarmItem()</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">async</span> <span class="keyword">void</span> <span class="title">OnAlarmItemSelected</span>(<span class="params"><span class="built_in">object</span> sender, SelectedItemChangedEventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.SelectedItem != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> Navigation.PushAsync(<span class="keyword">new</span> AlarmEditPage</span><br><span class="line">		&#123;</span><br><span class="line">			BindingContext = e.SelectedItem <span class="keyword">as</span> AlarmItem</span><br><span class="line">		&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>AlarmEditPage</code> çš„ç•Œé¢è®¾è®¡å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ContentPage</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xamarin.com/schemas/2014/forms&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">xmlns:x</span>=<span class="string">&quot;http://schemas.microsoft.com/winfx/2009/xaml&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">x:Class</span>=<span class="string">&quot;MyClock.AlarmEditPage&quot;</span></span></span><br><span class="line"><span class="tag">             <span class="attr">Title</span>=<span class="string">&quot;è®¾ç½®é—¹é’Ÿ&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Margin</span>=<span class="string">&quot;20, 35, 20, 20&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">&quot;æ—¶é—´:&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">TimePicker</span> <span class="attr">Time</span>=<span class="string">&quot;&#123;Binding Time&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">Format</span>=<span class="string">&quot;T&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">StackLayout</span> <span class="attr">Orientation</span>=<span class="string">&quot;Vertical&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">&quot;å¯ç”¨:&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Switch</span> <span class="attr">HorizontalOptions</span>=<span class="string">&quot;StartAndExpand&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">IsToggled</span>=<span class="string">&quot;&#123;Binding Work&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Label</span> <span class="attr">Text</span>=<span class="string">&quot;æ³¨é‡Š:&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Editor</span> <span class="attr">Placeholder</span>=<span class="string">&quot;è¾“å…¥æ³¨é‡Š&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">Text</span>=<span class="string">&quot;&#123;Binding Note&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">MaxLength</span>=<span class="string">&quot;300&quot;</span></span></span><br><span class="line"><span class="tag">                <span class="attr">HeightRequest</span>=<span class="string">&quot;100&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Grid</span> <span class="attr">Margin</span>=<span class="string">&quot;10&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ColumnDefinition</span> <span class="attr">Width</span>=<span class="string">&quot;*&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ColumnDefinition</span> <span class="attr">Width</span>=<span class="string">&quot;*&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">Grid.ColumnDefinitions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">Text</span>=<span class="string">&quot;ä¿å­˜&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">Clicked</span>=<span class="string">&quot;OnSaveButtonClicked&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">Grid.Column</span>=<span class="string">&quot;1&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">Text</span>=<span class="string">&quot;åˆ é™¤&quot;</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">Clicked</span>=<span class="string">&quot;OnDeleteButtonClicked&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Grid</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">StackLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ContentPage</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="é—¹é’Ÿæ¡ç›®çš„CRUD"><a href="#é—¹é’Ÿæ¡ç›®çš„CRUD" class="headerlink" title="é—¹é’Ÿæ¡ç›®çš„CRUD"></a>é—¹é’Ÿæ¡ç›®çš„CRUD</h4><p>å› ä¸ºæˆ‘ä»¬å°†åœ¨æ•´ä¸ªç¨‹åºçš„ä¸åŒéƒ¨åˆ†é€šç”¨æˆ‘ä»¬å°è£…çš„ <code>Database</code> è¿™ä¸ªæ•°æ®åº“ï¼Œæ‰€ä»¥åœ¨ <code>App.xaml.cs</code> ä¸­å°†å…¶å®ä¾‹åŒ–ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">partial</span> <span class="keyword">class</span> <span class="title">App</span> : <span class="title">Application</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> Database database;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Database Database</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (database == <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                database = <span class="keyword">new</span> Database(Path.Combine(Environment.GetFolderPath(Environment.SpecialFolder.LocalApplicationData), <span class="string">&quot;alarm.db3&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> database;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥åœ¨å„å¤„è°ƒç”¨äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†æ•°æ®ä¸ç•Œé¢è”ç³»èµ·æ¥ã€‚</p>
<p>åœ¨ <code>AlarmPage</code> çš„ <code>OnAppearing</code> ä¸­ï¼Œæˆ‘ä»¬å°†å†™è¿™æ ·çš„ä¸€è¡Œä»£ç ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alarmListView.ItemsSource = <span class="keyword">await</span> App.Database.GetAllAlarmItemsAsync();</span><br></pre></td></tr></table></figure>
<p>è¿™è¡Œä»£ç å°†ä¼šæŠŠæ•°æ®åº“ä¸­å‚¨å­˜çš„æ‰€æœ‰é—¹é’Ÿæ¡ç›®è¯»å–å‡ºæ¥ï¼ŒåŠ è½½åˆ°ç•Œé¢ä¸Šçš„ ListView é‡Œã€‚</p>
<p>ç„¶åï¼Œåœ¨ <code>AlarmEditPage</code> ä¸­å®Œæˆ ä¿å­˜ã€åˆ é™¤ ä¸¤ä¸ªæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶å¤„ç†ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">async</span> <span class="keyword">void</span> <span class="title">OnSaveButtonClicked</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> alarmItem = (AlarmItem)BindingContext;</span><br><span class="line">    <span class="keyword">await</span> App.Database.SaveAlarmItemAsync(alarmItem);</span><br><span class="line">    <span class="keyword">await</span> Navigation.PopAsync();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">async</span> <span class="keyword">void</span> <span class="title">OnDeleteButtonClicked</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">var</span> alarmItem = (AlarmItem)BindingContext;</span><br><span class="line">    <span class="keyword">await</span> App.Database.DeleteAlarmItemAsync(alarmItem);</span><br><span class="line">    <span class="keyword">await</span> Navigation.PopAsync();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨å–å‡ºé¡µé¢é‡Œæ˜¾ç¤ºçš„æ¡ç›®åï¼Œè°ƒç”¨æ•°æ®åº“ä¸­ä¿å­˜/åˆ é™¤å®ƒï¼Œç„¶åé€€å‡ºåˆ° <code>AlarmPage</code>ã€‚</p>
<h4 id="é—¹é’Ÿæé†’"><a href="#é—¹é’Ÿæé†’" class="headerlink" title="é—¹é’Ÿæé†’"></a>é—¹é’Ÿæé†’</h4><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ–°å»ºã€ä¿å­˜ã€ç¼–è¾‘ã€åˆ é™¤é—¹é’Ÿæ¡ç›®äº†ï¼Œä½†è¿™äº›è¿˜éƒ½æ˜¯æ•°æ®ä¸Šçš„æ“ä½œï¼Œæ¥ä¸‹æ¥å®ç°é—¹é’Ÿçš„æé†’åŠŸèƒ½ã€‚</p>
<p>é—¹é’Ÿéœ€è¦åœ¨æŒ‡å®šçš„æ—¶é—´å“èµ·ä»¥æé†’ç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥è¦ä¸ºæ¯ä¸€ä¸ªé—¹é’Ÿæ¡ç›®è°ƒç”¨ç³»ç»Ÿçº§çš„å®šæ—¶äº‹ä»¶ï¼ˆæ¨¡ä»¿ç³»ç»Ÿè‡ªå¸¦çš„é—¹é’ŸåŠŸèƒ½ï¼‰ï¼Œè¿™ä¸ªæ–¹æ³•æ„Ÿè§‰å¾ˆç‰›çš®ï¼Œä½†åœ¨ä»£ç å®ç°ã€å°¤å…¶æ˜¯è·¨å¹³å°å®ç°ä¸Šéº»çƒ¦ï¼Œæˆ‘ä¸ç¡®å®šï¼ˆæ²¡æœ‰å°è¯•ï¼‰è¿™æ ·çš„æ“ä½œæ˜¯å¦å¯ä»¥æ˜¾è‘—æå‡ç¨‹åºæ€§èƒ½ï¼Œæˆ‘ä»¬åªæ˜¯åšä¸ªç®€å•çš„å°é—¹é’Ÿä½œä¸šï¼Œæ²¡æœ‰å¿…è¦å¦‚æ­¤ã€‚æ‰€ä»¥æˆ‘é‡‡ç”¨äº†æœ€ç®€å•ç›´è§‚çš„æ–¹æ³•â€”â€”æ¯éš”ä¸€æ®µæ—¶é—´æ£€æµ‹ä¸€æ¬¡æ˜¯å¦æœ‰é—¹é’Ÿåˆ°æ—¶ã€‚è¿™æ ·åšæ³•æœ€æ–¹ä¾¿çš„åœ°æ–¹æ˜¯ï¼Œå¯ä»¥å’Œ ClockPage é‡Œçš„æ—¶é’ŸæŒ‡é’ˆæ›´æ–°äº‹ä»¶å…±ç”¨ä¸€ä¸ª Timerï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">bool</span> <span class="title">OnTimerTick</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    DateTime dateTime = DateTime.Now;</span><br><span class="line"></span><br><span class="line">    ... <span class="comment">// Do ui changes</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (dateTime.Second % <span class="number">30</span> &lt;= <span class="number">1</span> &amp;&amp; dateTime.Minute != _lastCheck)  <span class="comment">// To avoid high cpu occupying</span></span><br><span class="line">    &#123;</span><br><span class="line">        _lastCheck = dateTime.Minute;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ•´ç‚¹æŠ¥æ—¶</span></span><br><span class="line">        <span class="keyword">if</span> (onTheHourToggle.IsToggled &amp;&amp; dateTime.Minute == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Notify(dateTime.Hour);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®šæ—¶çš„é—¹é’Ÿ</span></span><br><span class="line">        List&lt;AlarmItem&gt; alarms = App.Database.GetAllAlarmItemsAsync().Result;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> a <span class="keyword">in</span> alarms)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a.Work &amp;&amp; isOnTime(a.Time, dateTime))</span><br><span class="line">            &#123;</span><br><span class="line">                Notify(a);</span><br><span class="line">                a.Work = <span class="literal">false</span>;</span><br><span class="line">                App.Database.SaveAlarmItemAsync(a);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">bool</span> <span class="title">isOnTime</span>(<span class="params">TimeSpan t, DateTime d</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> t.Hours == d.Hour &amp;&amp; t.Minutes == d.Minute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„æˆ‘ä»¬è®¾ç½®çš„ Timer åœ¨ä¸€ç§’å†…æ˜¯è¦ Tick å¥½å¤šæ¬¡çš„ï¼Œä½†é—¹é’Ÿåˆ°æ—¶æ£€æµ‹åªåº”è¯¥æ¯åˆ†é’Ÿ0ç§’æ—¶åšä¸€æ¬¡ï¼ˆæˆ‘å†åŠ äº†ä¸€æ¬¡åœ¨30ç§’æ—¶çš„é˜²æ­¢æ„å¤–ï¼‰ï¼Œæ‰€ä»¥æœ‰äº† <code>dateTime.Second % 30 &lt;= 1 &amp;&amp; dateTime.Minute != _lastCheck</code> è¿™æ ·çš„ä»£ç </p>
<p>åœ¨ <code>Notify</code> æ–¹æ³•ä¸­å®Œæˆå…·ä½“çš„é€šçŸ¥ç”¨æˆ·çš„è¡Œä¸ºï¼Œæ¯”å¦‚å¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼š</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For é—¹é’Ÿ</span></span><br><span class="line"><span class="keyword">await</span> DisplayAlert(alarmItem.TimeString, alarmItem.Note, <span class="string">&quot;OK&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// For æ•´ç‚¹æŠ¥æ—¶</span></span><br><span class="line"><span class="keyword">await</span> DisplayAlert(<span class="string">&quot;æ•´ç‚¹æŠ¥æ—¶&quot;</span>, <span class="string">&quot;ç°åœ¨æ—¶é—´&quot;</span> + hour + <span class="string">&quot;ç‚¹æ•´ã€‚&quot;</span>, <span class="string">&quot;OK&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>å…¶å®ï¼Œæˆ‘è¿˜å®ç°äº†é—¹é’Ÿåˆ°æ—¶æ’­æ”¾éŸ³ä¹ä»¥åŠè¯­éŸ³æ•´ç‚¹æŠ¥æ—¶çš„åŠŸèƒ½ï¼Œåªè¦åœ¨ <code>Notify</code> æ–¹æ³•ä¸­åŠ å…¥å¯¹åº”çš„æ“ä½œå°±è¡Œäº†ï¼Œåœ¨æ­¤ä¸èµ˜è¿°ã€‚ä½†è¿™äº›å…³äºéŸ³é¢‘çš„å®ç°åœ¨ iOS å’Œ Android é‡Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æˆ‘ä¸€æ¬¡éƒ½æ²¡æœ‰æˆåŠŸåœ¨ UWP ä¸Šå¼„å‡ºæ¥ï¼Œå¯èƒ½æ˜¯éœ€è¦è®¾ç½®ä¸€ä¸‹è§£å†³æ–¹æ¡ˆçš„æ‰“åŒ…æ–¹å¼ä»€ä¹ˆçš„ï¼Œä½†æˆ‘æ²¡æœ‰æ‰¾åˆ° Microsoft ç›¸åº”çš„æ–‡æ¡£ä»‹ç»ï¼Œå’±ä¹Ÿæ²¡æ·±å…¥ç ”ç©¶ğŸ˜‚ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è‡³æ­¤ï¼Œæ•´ä¸ªè·¨å¹³å°å°é—¹é’Ÿé¡¹ç›®å°±å¤§æ¦‚ä»‹ç»å®Œäº†ï¼Œæ—¶é—´å…³ç³»ï¼Œæˆ‘çœç•¥äº†å¤ªå¤šçš„ç»†èŠ‚ï¼Œå¯ä»¥åˆ° Github é˜…è¯»æºç ï¼Œ<a target="_blank" rel="noopener" href="https://github.com/cdfmlr/MyClock">https://github.com/cdfmlr/MyClock</a> ã€‚</p>
<p>é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚äº†è§£ C# è¯­è¨€å’Œ åˆ©ç”¨ Xamarin.Forms å¼€å‘è·¨å¹³å° App çš„æ–¹æ³•ï¼Œä½†éœ€è¦ä¸€å®šçš„ Android/iOS/Flutter/UWP å¼€å‘åŸºç¡€æ‰èƒ½å¾ˆå¥½çš„ç†è§£è¿™äº›ä»£ç ã€‚å…¶å®ï¼Œå†™å®Œè¿™ä¸ªä¸œè¥¿ï¼Œè™½ç„¶ç®€å•ï¼ŒåŸºæœ¬ç¨å¾®è®¾è®¡ä¸€ä¸‹å°±ç…§ç€æ–‡æ¡£å†™å°±å¥½äº†ï¼Œäº”å…­ç™¾è¡Œä»£ç ï¼Œå‡ ä¸ªå°æ—¶æå®šï¼Œä½†æˆ‘è¿˜æ˜¯å¾ˆæœ‰æ”¶è·çš„ã€‚C# çš„å¥½å¤šåœ°æ–¹æ„Ÿè§‰çœŸçš„æ¯” Java å†™ç€æ–¹ä¾¿ï¼ˆæœ€æ˜¾è‘—çš„æ˜¯ getter å’Œ setterï¼‰ï¼Œç„¶è€Œå‘½åä¹ æƒ¯ä»€ä¹ˆçš„ä¸å¤ªä¹ æƒ¯ï¼Œè‡³äºæ•ˆç‡å’±æ²¡è¯¦ç»†ç ”ç©¶ä¹Ÿæ²¡æœ‰ç»“è®ºã€‚Xamarin ä¹Ÿå¾ˆå¥½ç”¨ï¼Œå†™èµ·æ¥ä»£ç ç®€å•æ˜“æ‡‚ã€å¼€å‘é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œæ¯”åŸç”Ÿ Android å¼€å‘æ–¹ä¾¿å¾ˆå¤šï¼Œè·¨å¹³å°çš„ UI æ•ˆæœä¹Ÿç¡®å®ä¸é”™ï¼ˆé™¤äº†åœ¨å¾®è½¯è‡ªå®¶çš„ UWP ä¸‹æœ‰å° BugsğŸ˜‚ï¼‰ ã€‚</p>
<p>å†è¯´ä¸€ä¸‹ä¸è¶³ã€‚ç¬¬ä¸€ï¼Œæˆ‘æ²¡æœ‰ä¸‹åŠŸå¤«åš UI è®¾è®¡ï¼Œæ‰€ä»¥æ¯”è¾ƒä¸‘ï¼›ç¬¬äºŒï¼Œå¦‚å‰é¢å¤šæ¬¡æåˆ°çš„ï¼Œè¿™ä¸ªå®ç°åœ¨ UWP å¹³å°ä¸‹çš„æ•ˆæœä¸ä½³ï¼›æœ€åï¼Œå…¶å®è¿™ä¸ªå®ç°å¹¶æ²¡æœ‰å®Œæˆé¢˜ç›®è¦æ±‚çš„â€œæœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜â€ï¼ˆXamarin æ²¡æœ‰æä¾›è¿™ç§æ“ä½œï¼Œè¿™ä¸ªä¸œè¥¿æ˜¾ç„¶è·¨ä¸äº†å¹³å°ï¼Œåªèƒ½åœ¨ Windows é‡Œå®ç°ï¼‰ã€â€œä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶â€ï¼ˆæˆ‘ä»¬çŸ¥é“ï¼ŒSQLite ç®—æ˜¯äºŒè¿›åˆ¶å‚¨å­˜ï¼Œè°ˆä¸ä¸Šâ€œæ–‡æœ¬æ–‡ä»¶â€ï¼‰ç­‰ã€‚</p>
<h2 id="å¦ä¸€ç§å®ç°"><a href="#å¦ä¸€ç§å®ç°" class="headerlink" title="å¦ä¸€ç§å®ç°"></a>å¦ä¸€ç§å®ç°</h2><p>åŸºäºå‰é¢æ‰€è¯´çš„è¯¸å¤šä¸è¶³ï¼Œæˆ‘åˆå€Ÿäº†ä¸€å° Windows PCï¼Œå‚è€ƒé©¬è€å¸ˆå¤šå¹´å‰çš„æ–‡ç«  <a target="_blank" rel="noopener" href="https://blog.csdn.net/lsgo_myp/article/details/53148238">åˆ©ç”¨C#è¯­è¨€å®ç°å°é—¹é’Ÿ</a>ï¼Œå†™äº† <a target="_blank" rel="noopener" href="https://github.com/cdfmlr/Alarm-WindowsForms">Alarm-WindowsForms</a> é¡¹ç›®ï¼Œä¸€ä¸ªæ›´ç¬¦åˆé¢˜ç›®è¦æ±‚ä½†æ›´åŠ ç²—åˆ¶æ»¥é€ çš„ WindowsForms å®ç°ã€‚</p>
<p>WindowsForms æ¯•ç«Ÿæ˜¯ä¸Šä¸€ä¸ªå¹´ä»£çš„äº§ç‰©äº†ï¼Œå®ƒè®¾è®¡å‡ºæ¥çš„ä¸œè¥¿ä¹Ÿè¿˜æ˜¯è€çš„ Windows æ ·å¼ï¼Œè·Ÿå¾®è½¯ç°åœ¨çš„ Fluent Design ä¸€ç‚¹è¾¹éƒ½ä¸æ²¾ï¼Œé™¤äº†å†å²é—ç•™ä¸‹æ¥é‚£äº›éƒ¨åˆ†å¾®è½¯ç°åœ¨è‡ªå®¶è½¯ä»¶çš„å¼€å‘ä¹Ÿä¸ç”¨è¿™ä¸ªäº†ï¼Œè¿™ä¸œè¥¿åœ¨ VS 2019 é‡Œçš„è®¾è®¡ç•Œé¢é‡Œæ˜¾ç¤ºçš„å±…ç„¶éƒ½æ˜¯ä¸ª Windows vista/7 æ ·å­çš„çª—ä½“ğŸ˜‚ã€‚</p>
<p>æˆ‘æ²¡æœ‰å¥½å¥½ç ”ç©¶ C# å†™ WindowsForms çš„çŸ¥è¯†ï¼Œæ•´ä¸ªå®ç°åŸºæœ¬å°±æ˜¯å‡­ ç›´è§‰ + é©¬è€å¸ˆçš„æ–‡ç«  + å°æ—¶å€™å­¦ VB æ®‹å­˜çš„è®°å¿†ã€‚è€Œä¸”ç”±äºæˆ‘ä¸ç†Ÿæ‚‰ Windows å’Œ Visual Studio çš„æ“ä½œï¼Œæˆ‘ç”šè‡³è¿å¯¹æ–°å»ºå‡ºæ¥çš„ç±»çš„å‘½åéƒ½æ²¡åšï¼ˆåæ§½ä¸€ä¸‹ Windows ä¸‹ VS çš„é€»è¾‘ï¼Œæ–°å»ºä¸€ä¸ª Class æˆ–è€…å…¶ä»–ä»€ä¹ˆä¸œè¥¿çš„æ—¶å€™å±…ç„¶æ²¡æœ‰è¾“å…¥åç§°çš„åœ°æ–¹ï¼Œè‡ªåŠ¨æå‡ºäº› Class1ã€Class2 ä¹‹ç±»çš„ä¸œè¥¿æ¥ï¼Œç„¶åå’±ä¹Ÿä¸æ•¢å»é‡å‘½åå®ƒï¼Œæ€•è§£å†³æ–¹æ¡ˆé‡Œæ³¨å†Œçš„ä¿¡æ¯ä¸å¯¹äº†ï¼ˆVS For Mac æœ‰è¿™ä¸ªæ¯›ç—…ï¼Œä¸çŸ¥é“ Win ä¸Šçš„å¦‚ä½•ï¼‰ï¼‰ï¼Œæ‰€ä»¥ä¸æ‰“ç®—è¯¦ç»†å†™äº†ï¼Œå¤§è‡´çš„è®¾è®¡å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">WindowsForms å°é—¹é’Ÿç¨‹åº</span><br><span class="line">    |-- UI</span><br><span class="line">    |    |-- åœ¨ç¨‹åºè½½å…¥æ—¶ç»˜åˆ¶ç•Œé¢ï¼Œè¯»å–å‚¨å­˜çš„é—¹é’Ÿæ•°æ®</span><br><span class="line">    |    |-- åœ¨ Timer Tick (æ¯1ç§’) æ—¶:</span><br><span class="line">    |	 |	 	åŠ¨æ€æ›´æ–°åœ†ç›˜æ—¶é’Ÿ</span><br><span class="line">    |	 |		æ£€æµ‹æ˜¯å¦æ•´ç‚¹æŠ¥æ—¶æˆ–é—¹é’Ÿæé†’</span><br><span class="line">    |    |-- åœ¨ç”¨æˆ·æ·»åŠ æ–°é—¹é’Ÿæ—¶åˆ›å»º Alarm å®ä¾‹</span><br><span class="line">    |	 |	 	å€ŸåŠ© AlarmDatabase å‚¨å­˜ï¼Œå¹¶å†™å…¥ç£ç›˜</span><br><span class="line">    |    |-- åœ¨ç”¨æˆ·ç¼–è¾‘&#x2F;åˆ é™¤é—¹é’Ÿæ—¶:</span><br><span class="line">    |	 |		å€ŸåŠ© AlarmDatabase ä¿®æ”¹&#x2F;åˆ é™¤ Alarm å®ä¾‹</span><br><span class="line">    |	 |	 	åŒæ—¶ä¹Ÿä»ç£ç›˜æ–‡ä»¶ä¸­ä¿®æ”¹&#x2F;åˆ é™¤æ•°æ®</span><br><span class="line">    |    |-- åœ¨æœ€å°åŒ–&#x2F;å…³é—­æ—¶å¤„ç†æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜</span><br><span class="line">    |</span><br><span class="line">    |-- ç›¸å…³ç±»</span><br><span class="line">         |-- class Alarm: é—¹é’Ÿç±»ï¼Œä»£è¡¨ç¨‹åºè¿è¡Œæ—¶çš„ä¸€ä¸ªé—¹é’Ÿå¯¹è±¡</span><br><span class="line">         |-- class AlarmDatabase: é—¹é’Ÿæ•°æ®åº“</span><br><span class="line">         |      	å¤„ç†å°†å†…å­˜ä¸­çš„é—¹é’Ÿæ•°æ®å‚¨å­˜åˆ°ç£ç›˜ä»¥åŠä»ç£ç›˜è¯»å–å·²ä¿å­˜çš„æ•°æ®</span><br><span class="line">         |-- class TickMarkDrawHelper: è®¡ç®—è¡¨ç›˜åˆ»åº¦åæ ‡çš„è¾…åŠ©ç±»</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œæ•ˆæœï¼š</p>
<p><img src="https://tva1.sinaimg.cn/large/006tNbRwly1g9vdfrwji1j30m40d8dg5.jpg" alt="1"></p>
<p>å†™è¿™ä¸ªå®ç°æ”¶è·å°±æ²¡æœ‰å¤ªå¤šäº†ï¼Œæ— éæ˜¯å†ç†Ÿæ‚‰äº†ä¸€ä¸‹ C# è¿˜æœ‰ WindowsFormsï¼Œä½†æ„Ÿè§¦å€’æ˜¯é¢‡å¤šã€‚å†™è¿™ä¸ªä¸œè¥¿çš„æ—¶å€™ï¼Œæˆ‘æƒ³èµ·è‡ªå·±ä¸€å¼€å§‹å­¦ç¼–ç¨‹çš„æ—¶å€™æ¥è§¦çš„ VBï¼Œå½“æ—¶ç”¨ä¸€å°ç£ç›˜åªæœ‰ 10 GB çš„ Windows 98 ç¬”è®°æœ¬ï¼Œè·‘å¹´çºªæ¯”è‡ªå·±è¿˜å¤§çš„ VS6.0 ï¼ˆå½“æ—¶å¥½åƒè¿˜æ˜¯ä¸€ä¸ªä¸ªåˆ†å¼€çš„ VC6.0ã€VB6.0 ä»€ä¹ˆçš„ï¼‰ï¼Œé‚£ä¸ªæ—¶å€™å†™çš„ VB å°±å’Œç°åœ¨è¿™ä¸ª WindowsForms in C# ä¸€æ ·ï¼Œè¿˜æ˜¯é‚£å‡ ä¸ªç†Ÿæ‚‰çš„æ§ä»¶ï¼Œåªæ˜¯å¼€å‘è¯­è¨€ä» BASIC å˜æˆäº† C#ã€‚è¿™ä¸ªæ—¶å€™æ‰çŒ›ç„¶å›å¿†èµ·ï¼Œä»æˆ‘çš„ç¬¬ä¸€ä¸ª Hello World åˆ°ä»Šå¤©ä¹Ÿæœ‰8å¹´äº†â€¦â€¦ä»Šåä¹Ÿè¿˜ä¼šä¸€ç›´ç»§ç»­è¿™æ®µç¨‹åºäººç”Ÿï¼Œè™½ç„¶å†™ä»£ç ä»æ¥éƒ½ä¸æ˜¯æˆ‘æœ€å–œæ¬¢çš„äº‹ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œè°è®©æˆ‘ä¹æ„å‘¢â€¦â€¦</p>

  </div>
</article>
<!--Disqus-->


<!--Livere-->

    <div class="blog-post-comments">
        <div id="lv-container" data-id="city" data-uid="MTAyMC80NjEzMi8yMjY0Mw==">
            <noscript>ä¸å¯ç”¨ JavaScript æ”¯æŒçš„äººæ˜¯çœ‹ä¸åˆ°å¯çˆ±çš„è¯„è®ºåŒºçš„ã€‚ğŸ˜¥</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/cdfmlr">é¡¹ç›®</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%A9%E7%94%A8-C-%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%B0%8F%E9%97%B9%E9%92%9F"><span class="toc-number">1.</span> <span class="toc-text">åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.2.</span> <span class="toc-text">è®¾è®¡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.</span> <span class="toc-text">å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%86%E7%9B%98%E6%97%B6%E9%92%9F%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.1.</span> <span class="toc-text">åœ†ç›˜æ—¶é’Ÿçš„å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E7%9B%98"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">è¡¨ç›˜</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">æŒ‡é’ˆ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">é—¹é’ŸåŠŸèƒ½å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A8%A1%E5%9D%97"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">é—¹é’Ÿã€æ•°æ®åº“æ¨¡å—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E7%9B%B8%E5%85%B3%E7%9A%84%E9%A1%B5%E9%9D%A2"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">é—¹é’Ÿç›¸å…³çš„é¡µé¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E6%9D%A1%E7%9B%AE%E7%9A%84CRUD"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">é—¹é’Ÿæ¡ç›®çš„CRUD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B9%E9%92%9F%E6%8F%90%E9%86%92"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">é—¹é’Ÿæé†’</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.4.</span> <span class="toc-text">æ€»ç»“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.5.</span> <span class="toc-text">å¦ä¸€ç§å®ç°</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&text=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&is_video=false&description=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ&body=Check out this article: https://clownote.github.io/2019/12/10/blog/CSharpAlarm/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&title=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://clownote.github.io/2019/12/10/blog/CSharpAlarm/&name=åˆ©ç”¨ C# è¯­è¨€å®ç°è·¨å¹³å°å°é—¹é’Ÿ&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2021 CDFMLR
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/cdfmlr">é¡¹ç›®</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸ!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-146911386-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?9a0d2e6fde93dad496ac79f04f3aba97";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


<!--Livere Comments-->

    <script type="text/javascript">
      (function (d, s) {
        var j, e = d.getElementsByTagName(s)[0];

        if (typeof LivereTower === 'function') { return; }

        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;

        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>

</body>
</html>
