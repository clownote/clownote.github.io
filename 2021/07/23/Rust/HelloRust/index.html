<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Hello, Rust!ä¹…è¿çš„å­¦ä¹ ç¬”è®°ç³»åˆ—ï¼ï¼ å¤©å¤©å¤ä¹ è€ƒç ”ï¼Œåäº†ã€‚åˆ’ä¸€å¤©æ°´æ”¾æ¾ä¸€ä¸‹å§ï¼Œå­¦å­¦ Rustã€‚  æœ¬æ–‡æ˜¯å­¦ä¹ ä»¥ä¸‹ï¼ˆä¸»è¦ï¼‰å†…å®¹çš„ç¬”è®°ï¼š  Rust å®˜ç½‘ get startedï¼š https:&#x2F;&#x2F;www.rust-lang.org&#x2F;zh-CN&#x2F;learn&#x2F;get-started  Rust By Example (ä¸­æ–‡è¯‘æœ¬) 1. Hello World: http:&#x2F;&#x2F;rustwiki.">
<meta property="og:type" content="article">
<meta property="og:title" content="Hello, Rust!">
<meta property="og:url" content="https://clownote.github.io/2021/07/23/Rust/HelloRust/index.html">
<meta property="og:site_name" content="clownote">
<meta property="og:description" content="Hello, Rust!ä¹…è¿çš„å­¦ä¹ ç¬”è®°ç³»åˆ—ï¼ï¼ å¤©å¤©å¤ä¹ è€ƒç ”ï¼Œåäº†ã€‚åˆ’ä¸€å¤©æ°´æ”¾æ¾ä¸€ä¸‹å§ï¼Œå­¦å­¦ Rustã€‚  æœ¬æ–‡æ˜¯å­¦ä¹ ä»¥ä¸‹ï¼ˆä¸»è¦ï¼‰å†…å®¹çš„ç¬”è®°ï¼š  Rust å®˜ç½‘ get startedï¼š https:&#x2F;&#x2F;www.rust-lang.org&#x2F;zh-CN&#x2F;learn&#x2F;get-started  Rust By Example (ä¸­æ–‡è¯‘æœ¬) 1. Hello World: http:&#x2F;&#x2F;rustwiki.">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-07-23T11:55:33.804Z">
<meta property="article:modified_time" content="2022-03-03T10:50:02.688Z">
<meta property="article:author" content="CDFMLR">
<meta property="article:tag" content="Rust">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/rabbit.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/rabbit_192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/rabbit_180.png">
          
        
    
    <!-- title -->
    <title>Hello, Rust!</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
      
<link rel="stylesheet" href="/css/rtl.css">

    
    <!-- rss -->
    
    
    <!--Google search varification (PRIVATE)-->
    <meta name="google-site-verification" content="MrqlpFAD8nDanw3Ypv7ZsIWHLnTdhRuLa4QhSVwxIvc" />
    <!--Google AdSense å…³è” (PRIVATE)-->
    <script data-ad-client="ca-pub-1510963483941114" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/cdfmlr">é¡¹ç›®</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2021/08/07/Prolog/Prolog-0/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2021/07/15/Algorithm/KMP/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">ä¸Šä¸€ç¯‡</span>
      <span id="i-next" class="info" style="display:none;">ä¸‹ä¸€ç¯‡</span>
      <span id="i-top" class="info" style="display:none;">è¿”å›é¡¶éƒ¨</span>
      <span id="i-share" class="info" style="display:none;">åˆ†äº«æ–‡ç« </span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://clownote.github.io/2021/07/23/Rust/HelloRust/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&text=Hello, Rust!"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&is_video=false&description=Hello, Rust!"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Hello, Rust!&body=Check out this article: https://clownote.github.io/2021/07/23/Rust/HelloRust/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&name=Hello, Rust!&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-Rust"><span class="toc-number">1.</span> <span class="toc-text">Hello, Rust!</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">3.</span> <span class="toc-text">Hello World</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%B8%80%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">å•ä¸€æºæ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cargo-%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.2.</span> <span class="toc-text">Cargo é¡¹ç›®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">4.</span> <span class="toc-text">æ³¨é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">5.</span> <span class="toc-text">æ ¼å¼åŒ–è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Debug"><span class="toc-number">5.1.</span> <span class="toc-text">Debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Display"><span class="toc-number">5.2.</span> <span class="toc-text">Display</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">5.3.</span> <span class="toc-text">é”™è¯¯å¤„ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">5.4.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        Hello, Rust!
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">clownote</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-07-23T11:55:33.804Z" itemprop="datePublished">2021-07-23</time>
        
        (Updated: <time datetime="2022-03-03T10:50:02.688Z" itemprop="dateModified">2022-03-03</time>)
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Rust/">Rust</a> â€º <a class="category-link" href="/categories/Rust/Beginning/">Beginning</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/Rust/" rel="tag">Rust</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="Hello-Rust"><a href="#Hello-Rust" class="headerlink" title="Hello, Rust!"></a>Hello, Rust!</h1><p>ä¹…è¿çš„å­¦ä¹ ç¬”è®°ç³»åˆ—ï¼ï¼</p>
<p>å¤©å¤©å¤ä¹ è€ƒç ”ï¼Œåäº†ã€‚åˆ’ä¸€å¤©æ°´æ”¾æ¾ä¸€ä¸‹å§ï¼Œå­¦å­¦ Rustã€‚</p>
<blockquote>
<p>æœ¬æ–‡æ˜¯å­¦ä¹ ä»¥ä¸‹ï¼ˆä¸»è¦ï¼‰å†…å®¹çš„ç¬”è®°ï¼š</p>
<ul>
<li><p>Rust å®˜ç½‘ get startedï¼š <a target="_blank" rel="noopener" href="https://www.rust-lang.org/zh-CN/learn/get-started">https://www.rust-lang.org/zh-CN/learn/get-started</a></p>
</li>
<li><p>Rust By Example (ä¸­æ–‡è¯‘æœ¬) 1. Hello World: <a target="_blank" rel="noopener" href="http://rustwiki.org/zh-CN/rust-by-example/hello.html">http://rustwiki.org/zh-CN/rust-by-example/hello.html</a></p>
<ul>
<li>Rust æ–‡æ¡£ <code>std::fmt</code>ï¼š <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/">https://doc.rust-lang.org/std/fmt/</a></li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><p>ä»¥ <code>*nix</code>ç³»ç»Ÿä¸ºä¾‹ï¼Œç”¨ <code>rustup</code>ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --proto <span class="string">&#x27;=https&#x27;</span> --tlsv1.2 -sSf https://sh.rustup.rs | sh</span><br></pre></td></tr></table></figure>

<p>å®‰è£…æ£€æŸ¥ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo --version</span><br></pre></td></tr></table></figure>

<p>ï¼ˆ<code>cargo</code> æ˜¯æ„å»ºã€åŒ…ç®¡ç†çš„å·¥å…·ï¼ŒRust çš„ç¼–è¯‘å™¨æ˜¯ <code>rustc</code>ï¼‰</p>
<p>æ›´æ–°ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rustup update</span><br></pre></td></tr></table></figure>

<h1 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h1><p>å¯ä»¥åªå†™ä¸€ä¸ªæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åšæˆä¸€ä¸ªé¡¹ç›®ã€‚</p>
<h2 id="å•ä¸€æºæ–‡ä»¶"><a href="#å•ä¸€æºæ–‡ä»¶" class="headerlink" title="å•ä¸€æºæ–‡ä»¶"></a>å•ä¸€æºæ–‡ä»¶</h2><p>æ–°å»ºä¸€ä¸ª <code>hello.rs</code>ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Hello, world!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘ã€è¿è¡Œï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ rustc hello.rs</span><br><span class="line">$ ./hello</span><br></pre></td></tr></table></figure>

<p>åœ¨æˆ‘çš„ç”µè„‘ä¸Šï¼ˆIntel macBook Pro 2017ï¼ŒmacOS 11.4ï¼‰ç¼–è¯‘å‡ºæ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆ<code>./hello</code>ï¼‰æœ‰ <code>408K</code>ã€‚åŒæ ·åŠŸèƒ½çš„ C ç¨‹åºåªæœ‰ <code>48K</code>ï¼ŒSwift ä¸º <code>49K</code>ï¼Œè€Œ Go ç¨‹åºè¦ <code>1.2M</code> ã€‚</p>
<h2 id="Cargo-é¡¹ç›®"><a href="#Cargo-é¡¹ç›®" class="headerlink" title="Cargo é¡¹ç›®"></a>Cargo é¡¹ç›®</h2><p>æ–°å»ºé¡¹ç›®ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo new hello-rust</span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆä¸€ä¸ªé¡¹ç›®ç›®å½• <code>./hello-rust/</code>ï¼Œå…¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hello-rust</span><br><span class="line">|- Cargo.toml  <span class="comment"># Rust çš„æ¸…å•æ–‡ä»¶: åŒ…å«é¡¹ç›®çš„å…ƒæ•°æ®å’Œä¾èµ–åº“</span></span><br><span class="line">|- src</span><br><span class="line">  |- main.rs   <span class="comment"># å†™ä»£ç çš„åœ°æ–¹</span></span><br></pre></td></tr></table></figure>

<p>ï¼ˆå®ƒç”šè‡³ç»™ <code>git init</code> äº†ï¼Œè¿˜å†™äº† <code>.gitignore</code>ï¼‰</p>
<p><code>main.rs</code> é‡Œé¢å·²ç»å†™å¥½äº†ä¸€ä¸ª hello worldï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Hello, world!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cargo run</span><br></pre></td></tr></table></figure>

<h1 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h1><figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•è¡Œæ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* æ³¨é‡Šå— */</span></span><br></pre></td></tr></table></figure>

<p>æ–‡æ¡£æ³¨é‡Šï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">hello</span></span>() &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨ <code>rustdoc hello.rs</code> æ¥ç¼–è¯‘æ–‡æ¡£ï¼Œç»“æœæ˜¯ä¸ªç½‘ç«™ï¼Œæ”¾åœ¨ <code>./doc</code> é‡Œã€‚éšä¾¿å¼€ä¸ªæœåŠ¡å°±å¯ä»¥çœ‹äº†ï¼š</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -m http.server -d doc</span><br></pre></td></tr></table></figure>

<h1 id="æ ¼å¼åŒ–è¾“å‡º"><a href="#æ ¼å¼åŒ–è¾“å‡º" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡º"></a>æ ¼å¼åŒ–è¾“å‡º</h1><p>ç”± std é‡Œçš„ä¸€å †å®å®ç°æ ¼å¼åŒ–è¾“å‡ºï¼ˆè¿™äº› <code>!</code> å°±è¯´æ˜æ˜¯<strong>å®</strong>ï¼‰ï¼š</p>
<ul>
<li>æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š<code>format!</code></li>
<li>æ ‡å‡†è¾“å‡ºï¼š<code>print!</code>ï¼Œ <code>println!</code></li>
<li>æ ‡å‡†é”™è¯¯ï¼š<code>eprint!</code>ï¼Œ<code>eprintln!</code></li>
</ul>
<p>è¿™äº›ä¸œè¥¿çš„è¯­æ³•å’Œ C çš„ <code>printf</code> ç±»ä¼¼ï¼Œéƒ½æ˜¯ <code>format!(&quot;a string literal&quot;, ...)</code>ï¼Œå…·ä½“çš„ç”¨æ³•è§ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/index.html%E3%80%82%E4%B8%8B%E9%9D%A2%E5%8F%AA%E7%AE%80%E8%A6%81%E4%BB%8B%E7%BB%8D%EF%BC%9A">https://doc.rust-lang.org/std/fmt/index.htmlã€‚ä¸‹é¢åªç®€è¦ä»‹ç»ï¼š</a></p>
<p><code>format!</code> æ˜¯è¿”å›æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²ï¼Œ è€Œå››ç§ <code>print</code> å°±æ˜¯æŠŠ <code>format!</code> çš„ç»“æœå†™åˆ° <code>io::stdout</code> æˆ– <code>io::stderr</code>ã€‚</p>
<p>åœ¨æ ¼å¼å­—ç¬¦ä¸²å­—é¢å€¼å¸¸é‡ä¸­ç”¨ <code>&#123;name_or_index:formatting&#125;</code> æ¥æŒ‡å®šæ›¿æ¢å†…å®¹ã€‚</p>
<p>æ›¿æ¢ä¹Ÿå°±è¦æŠŠä¸€ä¸ªç‰¹å®šç±»å‹çš„å¯¹è±¡æ ¼å¼åŒ–ï¼ˆ<code>toString</code>ï¼‰ã€‚æ ¼å¼åŒ–ä¸€ä¸ªå¯¹è±¡çš„æ–¹å¼åœ¨ Rust ä¸­å«åš <em>traits</em>ã€‚Rust æœ‰å¥½å‡ ä¸ªä¸åŒçš„ traitsï¼Œæ‰€ä»¥åŒä¸€ä¸ªæ•°æ®å¯ä»¥æœ‰å¥½å‡ ç§æ˜¾ç¤ºçš„æ–¹å¼ï¼Œä¾‹å¦‚ä¸€ä¸ªæ•°å­—å¯ä»¥å†™æˆäºŒè¿›åˆ¶ã€åè¿›åˆ¶ã€åå…­è¿›åˆ¶ç­‰ç­‰ã€‚æ¯ä¸ª traits å¯¹åº”æœ‰ä¸€ç§ <code>&#123;:å£&#125;</code> ï¼ˆ<code>å£</code> æ˜¯æŸç§å­—ç¬¦ï¼‰ã€‚</p>
<p>æœ€å¸¸ç”¨çš„ä¸¤ç§ traits æ˜¯ Display å’Œ Debugï¼ŒäºŒè€…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­åˆ†åˆ«å†™ä½œ <code>&#123;&#125;</code> ï¼ˆä¹Ÿå°±æ˜¯<code>&#123;:å£&#125;</code> çš„ <code>å£</code> ä¸ºç©ºçš„æƒ…å½¢ï¼‰ å’Œ <code>&#123;:?&#125;</code> ã€‚äºŒè€…åˆ†åˆ«å’Œ Go è¯­è¨€ fmt åŒ…çš„ <code>%v</code> å’Œ <code>%#v</code> ç±»ä¼¼ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `&#123;&#125;` æ˜¯ `fmt::Display`ï¼Œç”¨æ¥æ˜¾ç¤ºä»»æ„å†…å®¹ï¼Œä¼˜é›…æ ¼å¼</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Hello, &#123;&#125;, &#123;&#125;, &#123;&#125;&quot;</span>, <span class="number">233</span>, <span class="number">1.2</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line"><span class="comment">// Hello, 233, 1.2, world</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `&#123;:?&#125;` å«åš `fmt::Debug` ç”¨æ¥è¾“å‡ºè°ƒè¯•é£æ ¼çš„æ–‡æœ¬</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Hello, &#123;:?&#125;, &#123;:?&#125;, &#123;:?&#125;&quot;</span>, <span class="number">233</span>, <span class="number">1.2</span>, <span class="string">&quot;world&quot;</span>);</span><br><span class="line"><span class="comment">// Hello, 233, 1.2, &quot;world&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>&#123;:&#125;</code> çš„å†’å·å‰é¢å¯ä»¥ç»™æ›¿æ¢å­—ç¬¦ä¸²å‘½åï¼Œæˆ–è€…æŒ‡å®šä½ç½®ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Hello, &#123;name&#125; with number &#123;a&#125;!&quot;</span>, name=<span class="string">&quot;foo&quot;</span>, a=<span class="string">&quot;666&quot;</span>);</span><br><span class="line"><span class="comment">// Hello, foo with number 666!</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;Hello, &#123;0&#125; with number &#123;1&#125; + &#123;1&#125;!&quot;</span>, <span class="string">&quot;foo&quot;</span>, a=<span class="string">&quot;666&quot;</span>);</span><br><span class="line"><span class="comment">// Hello, foo with number 666 + 666!</span></span><br></pre></td></tr></table></figure>

<p><code>&#123;:&#125;</code> çš„å†’å·åé¢æ˜¯æ ¼å¼ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;dec: &#123;0&#125;, bin: &#123;0:b&#125;, hex: &#123;0:X&#125;&quot;</span>, <span class="number">66</span>);</span><br><span class="line"><span class="comment">// dec: 66, bin: 1000010, hex: 42</span></span><br></pre></td></tr></table></figure>

<p>å…·ä½“æ ¼å¼çš„å†™æ³•å‚è€ƒ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/">https://doc.rust-lang.org/std/fmt/</a> ã€‚å¤§æ¦‚çš„å†™æ³•ä¸º <code>FA+#?0W.PT</code>ï¼š</p>
<ul>
<li><code>F</code> æ˜¯å¡«å……ç”¨çš„å­—ç¬¦</li>
<li><code>A</code> æ˜¯ <code>&lt;</code> æˆ– <code>^</code> æˆ– <code>&gt;</code>ï¼Œå¯¹é½çš„æ–¹å‘ï¼ˆä¸æ»¡ç”¨ F å¡«å……ï¼‰</li>
<li><code>+</code>ï¼šæ­£æ•°æ˜¾ç¤ºåŠ å·</li>
<li><code>#?</code> ï¼špretty-print çš„ Debug<ul>
<li><code>#b</code>ï¼Œ<code>#o</code>ï¼Œ<code>#x</code>ï¼šæ˜¾ç¤ºäºŒã€å…«ã€åå…­è¿›åˆ¶çš„å‰ç¼€</li>
</ul>
</li>
<li><code>0</code> æ•°å­—å‰é¢è¡¥é›¶è‡³å®½åº¦</li>
<li><code>W</code> å®½åº¦</li>
<li><code>.P</code> å°æ•°ä½æ•°<ul>
<li><code>.N$</code>ï¼šç”¨å‚æ•° N åšç²¾åº¦ï¼ˆå°±æ˜¯ <code>format!(&quot;&#123;&#125;&quot;, ...)</code> çš„ <code>...</code>ï¼Œä» 0 å¼€å§‹ï¼‰<ul>
<li>å¦‚æœæ˜¯æ•´æ•°ï¼Œ<code>&#123;:N$&#125;</code> ï¼Œå°±æ˜¯é‚£å‚æ•° N ä½œå®½åº¦ã€‚</li>
</ul>
</li>
<li><code>.*</code>ï¼šè¯»ä¸¤ä¸ªäºŒä¸ªå‚æ•°ï¼Œåä¸€ä¸ªå‚æ•°æ˜¯è¦æ ¼å¼åŒ–çš„å°æ•°ï¼Œä»¥å‰ä¸€ä¸ªå‚æ•°ä¸ºç²¾åº¦ï¼Œ<code>format!(&quot;&#123;:.*&#125;&quot;, 5, 0.01)</code>  ç»“æœä¸º <code>0.01000</code></li>
</ul>
</li>
<li><code>T</code> æ˜¯æ˜¾ç¤ºçš„æ–¹å¼ï¼Œå³ traitsï¼ˆå¯ä»¥è®©è‡ªå®šä¹‰ç±»å‹è‡ªå·±å®šåˆ¶å„ç§æ˜¾ç¤ºæ•ˆæœï¼‰ï¼š<ul>
<li><em>nothing</em> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Display.html"><code>Display</code></a></li>
<li><code>?</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Debug.html"><code>Debug</code></a><ul>
<li><code>x?</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Debug.html"><code>Debug</code></a> with lower-case hexadecimal integers ï¼ˆå¯¹åº” <code>X?</code> æ˜¯å¤§å†™çš„åå…­è¿›åˆ¶ï¼‰</li>
</ul>
</li>
<li><code>o</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Octal.html"><code>Octal</code></a></li>
<li><code>x</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.LowerHex.html"><code>LowerHex</code></a></li>
<li><code>X</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.UpperHex.html"><code>UpperHex</code></a></li>
<li><code>p</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Pointer.html"><code>Pointer</code></a></li>
<li><code>b</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Binary.html"><code>Binary</code></a></li>
<li><code>e</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.LowerExp.html"><code>LowerExp</code></a></li>
<li><code>E</code> â‡’ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.UpperExp.html"><code>UpperExp</code></a></li>
</ul>
</li>
</ul>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;:_&lt;9&#125; &#123;:09&#125; &#123;:`^9&#125; &#123;:9.6&#125; &#123;:09.6&#125; &#123;:)&gt;9&#125; &#123;:#?&#125;&quot;</span>, <span class="string">&quot;left&quot;</span>, <span class="number">123</span>, <span class="string">&quot;center&quot;</span>, <span class="number">3.14</span>, <span class="number">3.14</span>, <span class="string">&quot;right&quot;</span>, <span class="number">2.17e5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// left_____ 000000123 `center``  3.140000 03.140000 ))))right 217000.0</span></span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰çš„ç±»å‹ï¼Œè‹¥æƒ³ç”¨ <code>std::fmt</code> çš„æ ¼å¼åŒ–æ‰“å°ï¼Œéƒ½è¦æ±‚å®ç°è‡³å°‘ä¸€ä¸ªå¯æ‰“å°çš„ <code>traits</code>ã€‚ è‡ªåŠ¨çš„å®ç°åªä¸ºä¸€äº›ç±»å‹æä¾›ï¼Œæ¯”å¦‚ <code>std</code> åº“ä¸­çš„ç±»å‹ã€‚æ‰€æœ‰å…¶ä»–ç±»å‹ éƒ½<strong>å¿…é¡»</strong>æ‰‹åŠ¨å®ç°ã€‚ä¸‹é¢ä»‹ç»å¦‚ä½•è¾“å‡ºè‡ªå®šä¹‰ç±»å‹ï¼š</p>
<h2 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h2><p><code>fmt::Debug</code> ï¼Œå°±æ˜¯ <code>&#123;:?&#125;</code>ï¼Œ æ¯”è¾ƒå®¹æ˜“å®ç°ï¼Œä¸€èˆ¬ç›´æ¥ç”¨æ¨å¯¼ï¼ˆ<code>derive</code>ï¼‰æ¥è‡ªåŠ¨åˆ›å»ºï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä¸ªè‡ªå®šä¹‰çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="meta">#[derive(Debug)]</span>  <span class="comment">// åŠ äº†è¿™ä¸ªæ‰èƒ½æ‰“å°</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Point2D</span></span> &#123;</span><br><span class="line">    x: <span class="built_in">f64</span>,</span><br><span class="line">    y: <span class="built_in">f64</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> p = Point2D &#123; x:<span class="number">66.0</span>, y:<span class="number">77.0</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, peter);</span><br><span class="line">    <span class="comment">// Point2D &#123; x: 66.0, y: 77.0 &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:#?&#125;&quot;</span>, peter);  <span class="comment">// æ›´å¥½çœ‹ä¸€ç‚¹</span></span><br><span class="line">    <span class="comment">// Point2D &#123;</span></span><br><span class="line">    <span class="comment">//     x: 66.0,</span></span><br><span class="line">    <span class="comment">//     y: 77.0,</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Display"><a href="#Display" class="headerlink" title="Display"></a>Display</h2><p><code>fmt::Display</code> ï¼Œå°±æ˜¯ <code>&#123;&#125;</code>ï¼Œ é¡»æ‰‹åŠ¨å®ç°ã€‚</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Complex</span></span> &#123;</span><br><span class="line">    real: <span class="built_in">f64</span>,</span><br><span class="line">    imag: <span class="built_in">f64</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> fmt::Display <span class="keyword">for</span> Complex &#123;</span><br><span class="line">    <span class="comment">// `f` æ˜¯ä¸ª bufferï¼Œæ­¤æ–¹æ³•å¿…é¡»å°†æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²å†™å…¥å…¶ä¸­</span></span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">fmt</span></span>(&amp;<span class="keyword">self</span>, f: &amp;<span class="keyword">mut</span> fmt::Formatter) -&gt; fmt::<span class="built_in">Result</span> &#123;</span><br><span class="line">        <span class="comment">// `write!` å’Œ `format!` ç±»ä¼¼ï¼Œä½†æ˜¯å°†æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²å†™å…¥ buffer</span></span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;&#123;&#125; + &#123;&#125;i&quot;</span>, <span class="keyword">self</span>.real, <span class="keyword">self</span>.imag)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Display: &#123;0&#125;\nDebug: &#123;0:?&#125;&quot;</span>, Complex&#123; real: <span class="number">3.3</span>, imag: <span class="number">7.2</span>&#125;);</span><br><span class="line">    <span class="comment">// Display: 3.3 + 7.2i</span></span><br><span class="line">    <span class="comment">// Debug: Complex &#123; real: 3.3, imag: 7.2 &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ <code>write!(...)</code> åé¢ä¸åŠ  <code>;</code>ã€‚è¿™ä¸ªè¯­æ³•æ˜¯ <code>return write!(...);</code> çš„ç®€å†™ï¼Œä»¥æœ€åçš„è¡¨è¾¾å¼ä½œä¸ºå‡½æ•°è¿”å›å€¼ã€‚å¦‚æœä¸å†™ <code>return</code> åˆåŠ äº† <code>;</code> å°±å˜æˆè¿”å›ç©º <code>()</code> äº†ã€‚</p>
<p>ç”¨ç±»ä¼¼çš„æ–¹æ³•ï¼Œè¿˜å¯ä»¥å®ç°å…¶ä»–çš„ traitsï¼Œæ¯”å¦‚ï¼š<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Octal.html"><code>Octal</code></a>ï¼Œ<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.LowerHex.html"><code>LowerHex</code></a>ï¼Œ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.UpperHex.html"><code>UpperHex</code></a>ï¼Œ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Pointer.html"><code>Pointer</code></a>ï¼Œ<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.Binary.html"><code>Binary</code></a>ï¼Œ<a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.LowerExp.html"><code>LowerExp</code></a>ï¼Œ <a target="_blank" rel="noopener" href="https://doc.rust-lang.org/std/fmt/trait.UpperExp.html"><code>UpperExp</code></a>ã€‚</p>
<h2 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h2><p>å¯¹äºä¸€ä¸ªé›†åˆï¼Œè¦ fmt è¾“å‡ºçš„è¯ï¼Œéœ€è¦è¿­ä»£å†™æ¯ä¸ªå€¼ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt; <span class="comment">// å¯¼å…¥ `fmt` æ¨¡å—ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰ä¸€ä¸ªåŒ…å«å•ä¸ª `Vec` çš„ç»“æ„ä½“ `List`ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">List</span></span>(<span class="built_in">Vec</span>&lt;<span class="built_in">i32</span>&gt;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> fmt::Display <span class="keyword">for</span> List &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">fmt</span></span>(&amp;<span class="keyword">self</span>, f: &amp;<span class="keyword">mut</span> fmt::Formatter) -&gt; fmt::<span class="built_in">Result</span> &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨å…ƒç»„çš„ä¸‹æ ‡è·å–å€¼ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª `vec` çš„å¼•ç”¨ã€‚</span></span><br><span class="line">        <span class="keyword">let</span> vec = &amp;<span class="keyword">self</span>.<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;[&quot;</span>)?;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ `v` å¯¹ `vec` è¿›è¡Œè¿­ä»£ï¼Œå¹¶ç”¨ `count` è®°å½•è¿­ä»£æ¬¡æ•°ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (count, v) <span class="keyword">in</span> vec.iter().enumerate() &#123;</span><br><span class="line">            <span class="comment">// å¯¹æ¯ä¸ªå…ƒç´ ï¼ˆç¬¬ä¸€ä¸ªå…ƒç´ é™¤å¤–ï¼‰åŠ ä¸Šé€—å·ã€‚</span></span><br><span class="line">            <span class="comment">// ä½¿ç”¨ `?` æˆ– `try!` æ¥è¿”å›é”™è¯¯ã€‚</span></span><br><span class="line">            <span class="keyword">if</span> count != <span class="number">0</span> &#123; <span class="built_in">write!</span>(f, <span class="string">&quot;, &quot;</span>)?; &#125;</span><br><span class="line">            <span class="built_in">write!</span>(f, <span class="string">&quot;&#123;&#125;&quot;</span>, v)?;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åŠ ä¸Šé…å¯¹ä¸­æ‹¬å·ï¼Œå¹¶è¿”å›ä¸€ä¸ª fmt::Result å€¼ã€‚</span></span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;]&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> v = List(<span class="built_in">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå°±éœ€è¦å¤šæ¬¡è°ƒç”¨ <code>write!</code>ï¼Œ<code>write!</code> æ˜¯å¯èƒ½è¿”å›é”™è¯¯çš„å“¦ã€‚ä¸€æ—¦é”™è¯¯äº†å°±ä¸è¯¥ç»§ç»­å†™äº†ï¼Œæ‰€ä»¥åœ¨è°ƒç”¨æœ«å°¾ç”¨äº† <code>?</code> è¯­æ³•ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">write!</span>(f, <span class="string">&quot;&#123;&#125;&quot;</span>, value)?;</span><br><span class="line"><span class="comment">// ç­‰åŒäºï¼š</span></span><br><span class="line"><span class="built_in">try!</span>(<span class="built_in">write!</span>(f, <span class="string">&quot;&#123;&#125;&quot;</span>, value));</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªè¯­æ³•æ˜¯å°è¯• <code>write!</code> ï¼Œè‹¥å‘ç”Ÿé”™è¯¯ï¼Œåˆ™ç›´æ¥è¿”å›ç›¸åº”çš„é”™è¯¯ï¼Œç»“æŸå‡½æ•°ï¼›å¦åˆ™ç»§ç»­æ‰§è¡Œåé¢çš„è¯­å¥ã€‚ä¹Ÿå°±æ˜¯ç±»ä¼¼äº Go ä¸­çš„ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">_, err := DoSomething()</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸åŠ è¿™ä¸ª <code>?</code> é»˜è®¤ä¼šç¼–è¯‘æ—¶ warningï¼Œæé†’ä½ å¯èƒ½æ²¡å¤„ç†é”™è¯¯ã€‚</p>
<h2 id="æ ¼å¼åŒ–"><a href="#æ ¼å¼åŒ–" class="headerlink" title="æ ¼å¼åŒ–"></a>æ ¼å¼åŒ–</h2><p>å†çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> std::fmt::&#123;<span class="keyword">self</span>, Formatter, Display&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Color</span></span> &#123;</span><br><span class="line">    red: <span class="built_in">u8</span>,</span><br><span class="line">    green: <span class="built_in">u8</span>,</span><br><span class="line">    blue: <span class="built_in">u8</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> Display <span class="keyword">for</span> Color &#123;</span><br><span class="line">    <span class="function"><span class="keyword">fn</span> <span class="title">fmt</span></span>(&amp;<span class="keyword">self</span>, f: &amp;<span class="keyword">mut</span> Formatter) -&gt; fmt::<span class="built_in">Result</span> &#123;</span><br><span class="line">        <span class="built_in">write!</span>(f, <span class="string">&quot;RGB(&#123;R&#125;, &#123;G&#125;, &#123;B&#125;) &#123;R:#02X&#125;&#123;G:02X&#125;&#123;B:02X&#125;&quot;</span>, </span><br><span class="line">            R=<span class="keyword">self</span>.red, G=<span class="keyword">self</span>.green, B=<span class="keyword">self</span>.blue)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fn</span> <span class="title">main</span></span>() &#123;</span><br><span class="line">    <span class="keyword">for</span> color <span class="keyword">in</span> [</span><br><span class="line">        Color &#123; red: <span class="number">128</span>, green: <span class="number">255</span>, blue: <span class="number">90</span> &#125;,</span><br><span class="line">        Color &#123; red: <span class="number">0</span>, green: <span class="number">3</span>, blue: <span class="number">254</span> &#125;,</span><br><span class="line">        Color &#123; red: <span class="number">0</span>, green: <span class="number">0</span>, blue: <span class="number">0</span> &#125;,</span><br><span class="line">    ].iter() &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, *color)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RGB(<span class="number">128</span>, <span class="number">255</span>, <span class="number">90</span>) <span class="number">0x80FF5A</span></span><br><span class="line">RGB(<span class="number">0</span>, <span class="number">3</span>, <span class="number">254</span>) <span class="number">0x003FE</span></span><br><span class="line">RGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>) <span class="number">0x00000</span></span><br></pre></td></tr></table></figure>


  </div>
</article>
<!--Disqus-->


<!--Livere-->

    <div class="blog-post-comments">
        <div id="lv-container" data-id="city" data-uid="MTAyMC80NjEzMi8yMjY0Mw==">
            <noscript>ä¸å¯ç”¨ JavaScript æ”¯æŒçš„äººæ˜¯çœ‹ä¸åˆ°å¯çˆ±çš„è¯„è®ºåŒºçš„ã€‚ğŸ˜¥</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/cdfmlr">é¡¹ç›®</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-Rust"><span class="toc-number">1.</span> <span class="toc-text">Hello, Rust!</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.</span> <span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Hello-World"><span class="toc-number">3.</span> <span class="toc-text">Hello World</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%B8%80%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">3.1.</span> <span class="toc-text">å•ä¸€æºæ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Cargo-%E9%A1%B9%E7%9B%AE"><span class="toc-number">3.2.</span> <span class="toc-text">Cargo é¡¹ç›®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">4.</span> <span class="toc-text">æ³¨é‡Š</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA"><span class="toc-number">5.</span> <span class="toc-text">æ ¼å¼åŒ–è¾“å‡º</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Debug"><span class="toc-number">5.1.</span> <span class="toc-text">Debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Display"><span class="toc-number">5.2.</span> <span class="toc-text">Display</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-number">5.3.</span> <span class="toc-text">é”™è¯¯å¤„ç†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">5.4.</span> <span class="toc-text">æ ¼å¼åŒ–</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://clownote.github.io/2021/07/23/Rust/HelloRust/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&text=Hello, Rust!"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&is_video=false&description=Hello, Rust!"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=Hello, Rust!&body=Check out this article: https://clownote.github.io/2021/07/23/Rust/HelloRust/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&title=Hello, Rust!"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://clownote.github.io/2021/07/23/Rust/HelloRust/&name=Hello, Rust!&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> èœå•</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> ç›®å½•</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> åˆ†äº«</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> è¿”å›é¡¶éƒ¨</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2022 CDFMLR
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">é¦–é¡µ</a></li>
         
          <li><a href="/about/">å…³äº</a></li>
         
          <li><a href="/archives/">å½’æ¡£</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/cdfmlr">é¡¹ç›®</a></li>
         
          <li><a href="/search/">æœç´¢</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">


<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.0/dist/katex.min.css">


    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>

<!-- clipboard -->

  
<script src="/lib/clipboard/clipboard.min.js"></script>

  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"å¤åˆ¶åˆ°ç²˜è´´æ¿!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "å¤åˆ¶æˆåŠŸ!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-146911386-1', 'auto');
        ga('send', 'pageview');
    </script>
    
    <!-- New: global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-146911386-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-146911386-1');
    </script>
    

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?9a0d2e6fde93dad496ac79f04f3aba97";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


<!--Livere Comments-->

    <script type="text/javascript">
      (function (d, s) {
        var j, e = d.getElementsByTagName(s)[0];

        if (typeof LivereTower === 'function') { return; }

        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;

        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>


</body>
</html>
